<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Three.js Mesh Importer</title>
    <link rel="stylesheet" href="./style.css" />
    <script type="importmap">
      {
        "imports": {
          "three": "https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js",
          "OrbitControls": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/controls/OrbitControls.js",
          "TransformControls": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/controls/TransformControls.js",
          "RGBELoader": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/loaders/RGBELoader.js",
          "GLTFLoader": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/loaders/GLTFLoader.js",
          "DRACOLoader": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/loaders/DRACOLoader.js",
          "FBXLoader": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/loaders/FBXLoader.js",
          "OBJLoader": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/loaders/OBJLoader.js"
        }
      }
    </script>
  </head>
  <body>
    <div id="app">
      <canvas id="scene"></canvas>
      <aside class="panel panel--left" data-panel>
        <div class="panel__import">
          <button class="panel__import-button" type="button" data-import-button>Import Model</button>
          <input
            class="hidden-input"
            type="file"
            accept=".gltf,.glb,.fbx,.obj"
            data-file-input
          />
        </div>
        <ul class="panel__list" data-mesh-list></ul>
      </aside>
      <div class="toolbar" data-toolbar>
        <button type="button" class="toolbar__button active" data-mode="none">None</button>
        <button type="button" class="toolbar__button" data-mode="translate">Translation</button>
        <button type="button" class="toolbar__button" data-mode="rotate">Rotation</button>
        <button type="button" class="toolbar__button" data-mode="scale">Scale</button>
      </div>
      <div class="inspector hidden" data-inspector>
        <p class="inspector__title">Transform</p>
        <div class="inspector__row">
          <input type="number" step="0.01" class="inspector__input" data-axis="x" placeholder="X" />
          <input type="number" step="0.01" class="inspector__input" data-axis="y" placeholder="Y" />
          <input type="number" step="0.01" class="inspector__input" data-axis="z" placeholder="Z" />
        </div>
      </div>
      <aside class="panel panel--right" data-material-panel>
        <div class="material-panel">
          <p class="material-panel__title">Материал</p>
          <p class="material-panel__message" data-material-message>Выберите один меш для настройки материала.</p>
          <div class="material-panel__body is-hidden" data-material-body>
            <details class="material-section" open>
              <summary class="material-section__summary">Цвет</summary>
              <div class="material-section__content">
                <div class="material-mode" role="radiogroup">
                  <label class="material-mode__option">
                    <input type="radio" name="color-mode" value="color" data-color-mode />
                    <span>Color</span>
                  </label>
                  <label class="material-mode__option">
                    <input type="radio" name="color-mode" value="texture" data-color-mode />
                    <span>Texture</span>
                  </label>
                </div>
                <div class="material-color-picker" data-color-picker>
                  <label class="material-field">
                    <span class="material-field__preview" data-color-preview aria-hidden="true"></span>
                    <input
                      type="color"
                      class="material-field__input"
                      data-color-input
                      aria-label="Base color"
                    />
                    <span class="material-field__hover-label" aria-hidden="true">Pick</span>
                  </label>
                </div>
                <div class="material-texture-picker is-hidden" data-color-texture>
                  <div class="texture-upload" data-color-texture-target>
                    <img
                      class="texture-upload__image"
                      data-color-texture-image
                      alt="Предпросмотр текстуры цвета"
                      width="100"
                      height="100"
                    />
                    <button
                      type="button"
                      class="texture-upload__remove"
                      data-color-texture-remove
                      aria-label="Удалить текстуру"
                    >
                      ×
                    </button>
                    <div class="texture-upload__label">Upload</div>
                    <input class="hidden-input" type="file" accept="image/*" data-color-texture-input />
                  </div>
                </div>
              </div>
            </details>
            <details class="material-section" open>
              <summary class="material-section__summary">Opacity</summary>
              <div class="material-section__content">
                <div class="material-mode" role="radiogroup">
                  <label class="material-mode__option">
                    <input type="radio" name="opacity-mode" value="slider" data-opacity-mode />
                    <span>Slider</span>
                  </label>
                  <label class="material-mode__option">
                    <input type="radio" name="opacity-mode" value="texture" data-opacity-mode />
                    <span>Texture</span>
                  </label>
                  <label class="material-mode__option">
                    <input type="radio" name="opacity-mode" value="color-alpha" data-opacity-mode />
                    <span>Color Alpha</span>
                  </label>
                </div>
                <div class="material-opacity material-opacity--slider" data-opacity-slider>
                  <div class="texture-upload texture-upload--readonly" data-opacity-slider-target>
                    <img
                      class="texture-upload__image"
                      data-opacity-slider-image
                      alt="Opacity value preview"
                      width="100"
                      height="100"
                    />
                    <div class="texture-upload__label">Value</div>
                  </div>
                  <div class="material-slider material-slider--stacked">
                    <label class="material-slider__label" for="opacity-slider">Opacity</label>
                    <input
                      id="opacity-slider"
                      type="range"
                      min="0"
                      max="1"
                      step="0.01"
                      value="1"
                      class="material-slider__input"
                      data-opacity-slider-input
                    />
                    <input
                      type="number"
                      min="0"
                      max="1"
                      step="0.01"
                      value="1.00"
                      class="material-slider__value"
                      data-opacity-slider-number
                      aria-label="Opacity value"
                    />
                  </div>
                </div>
                <div class="material-opacity material-opacity--texture is-hidden" data-opacity-texture>
                  <div class="texture-upload" data-opacity-texture-target>
                    <img
                      class="texture-upload__image"
                      data-opacity-texture-image
                      alt="Opacity texture preview"
                      width="100"
                      height="100"
                    />
                    <button
                      type="button"
                      class="texture-upload__remove"
                      data-opacity-texture-remove
                      aria-label="Remove opacity texture"
                    >
                      ×
                    </button>
                    <div class="texture-upload__label">Upload</div>
                    <input class="hidden-input" type="file" accept="image/*" data-opacity-texture-input />
                  </div>
                </div>
                <div class="material-opacity material-opacity--color is-hidden" data-opacity-color>
                  <div class="texture-upload texture-upload--readonly" data-opacity-color-target>
                    <img
                      class="texture-upload__image"
                      data-opacity-color-image
                      alt="Base color alpha preview"
                      width="100"
                      height="100"
                    />
                    <div class="texture-upload__label">Color Alpha</div>
                  </div>
                  <p class="material-opacity__note">Uses the base color texture alpha channel.</p>
                </div>
              </div>
            </details>
            <details class="material-section" open>
              <summary class="material-section__summary">Normal Map</summary>
              <div class="material-section__content">
                <div class="texture-upload" data-normal-texture-target>
                  <img
                    class="texture-upload__image"
                    data-normal-texture-image
                    alt="Предпросмотр нормал-карты"
                    width="100"
                    height="100"
                  />
                  <button
                    type="button"
                    class="texture-upload__remove"
                    data-normal-texture-remove
                    aria-label="Удалить нормал-карту"
                  >
                    ×
                  </button>
                  <div class="texture-upload__label">Upload</div>
                  <input class="hidden-input" type="file" accept="image/*" data-normal-texture-input />
                </div>
                <div class="material-slider">
                  <label class="material-slider__label" for="normal-strength-slider">Strength</label>
                  <input
                    id="normal-strength-slider"
                    type="range"
                    min="0"
                    max="3"
                    step="0.05"
                    value="1"
                    class="material-slider__input"
                    data-normal-strength
                  />
                  <input
                    type="number"
                    min="0"
                    max="3"
                    step="0.05"
                    value="1.00"
                    class="material-slider__value"
                    data-normal-strength-number
                    aria-label="Normal map strength"
                  />
                </div>
              </div>
            </details>
            <details class="material-section" open>
              <summary class="material-section__summary">Occlusion / Metallic / Roughness</summary>
              <div class="material-section__content">
                <div class="material-mode" role="radiogroup">
                  <label class="material-mode__option">
                    <input type="radio" name="orm-mode" value="packed" data-orm-mode />
                    <span>ORM Texture</span>
                  </label>
                  <label class="material-mode__option">
                    <input type="radio" name="orm-mode" value="separate" data-orm-mode />
                    <span>Separate</span>
                  </label>
                  <label class="material-mode__option">
                    <input type="radio" name="orm-mode" value="scalar" data-orm-mode />
                    <span>Scalar</span>
                  </label>
                </div>
                <div class="material-orm material-orm--packed" data-orm-packed>
                  <div class="texture-upload" data-orm-packed-target>
                    <img
                      class="texture-upload__image"
                      data-orm-packed-image
                      alt="Предпросмотр ORM текстуры"
                      width="100"
                      height="100"
                    />
                    <button
                      type="button"
                      class="texture-upload__remove"
                      data-orm-packed-remove
                      aria-label="Удалить ORM текстуру"
                    >
                      ×
                    </button>
                    <div class="texture-upload__label">Upload</div>
                    <input class="hidden-input" type="file" accept="image/*" data-orm-packed-input />
                  </div>
                </div>
                <div class="material-orm material-orm--separate is-hidden" data-orm-separate>
                  <div class="material-orm__channel" data-orm-channel="ao">
                    <p class="material-orm__label">Occlusion</p>
                    <div class="texture-upload" data-orm-ao-target>
                      <img
                        class="texture-upload__image"
                        data-orm-ao-image
                        alt="Предпросмотр текстуры запекания"
                        width="100"
                        height="100"
                      />
                      <button
                        type="button"
                        class="texture-upload__remove"
                        data-orm-ao-remove
                        aria-label="Удалить текстуру запекания"
                      >
                        ×
                      </button>
                      <div class="texture-upload__label">Upload</div>
                      <input class="hidden-input" type="file" accept="image/*" data-orm-ao-input />
                    </div>
                    <div class="material-slider material-slider--stacked is-hidden" data-orm-ao-scalar>
                      <label class="material-slider__label" for="orm-ao-slider">Intensity</label>
                      <input
                        id="orm-ao-slider"
                        type="range"
                        min="0"
                        max="1"
                        step="0.01"
                        value="1"
                        class="material-slider__input"
                        data-orm-ao-slider
                      />
                      <input
                        type="number"
                        min="0"
                        max="1"
                        step="0.01"
                        value="1.00"
                        class="material-slider__value"
                        data-orm-ao-number
                        aria-label="Occlusion intensity"
                      />
                    </div>
                  </div>
                  <div class="material-orm__channel" data-orm-channel="metalness">
                    <p class="material-orm__label">Metallic</p>
                    <div class="texture-upload" data-orm-metalness-target>
                      <img
                        class="texture-upload__image"
                        data-orm-metalness-image
                        alt="Предпросмотр металлической текстуры"
                        width="100"
                        height="100"
                      />
                      <button
                        type="button"
                        class="texture-upload__remove"
                        data-orm-metalness-remove
                        aria-label="Удалить металлическую текстуру"
                      >
                        ×
                      </button>
                      <div class="texture-upload__label">Upload</div>
                      <input class="hidden-input" type="file" accept="image/*" data-orm-metalness-input />
                    </div>
                    <div class="material-slider material-slider--stacked is-hidden" data-orm-metalness-scalar>
                      <label class="material-slider__label" for="orm-metalness-slider">Metalness</label>
                      <input
                        id="orm-metalness-slider"
                        type="range"
                        min="0"
                        max="1"
                        step="0.01"
                        value="0"
                        class="material-slider__input"
                        data-orm-metalness-slider
                      />
                      <input
                        type="number"
                        min="0"
                        max="1"
                        step="0.01"
                        value="0.00"
                        class="material-slider__value"
                        data-orm-metalness-number
                        aria-label="Metalness value"
                      />
                    </div>
                  </div>
                  <div class="material-orm__channel" data-orm-channel="roughness">
                    <p class="material-orm__label">Roughness</p>
                    <div class="texture-upload" data-orm-roughness-target>
                      <img
                        class="texture-upload__image"
                        data-orm-roughness-image
                        alt="Предпросмотр текстуры шероховатости"
                        width="100"
                        height="100"
                      />
                      <button
                        type="button"
                        class="texture-upload__remove"
                        data-orm-roughness-remove
                        aria-label="Удалить текстуру шероховатости"
                      >
                        ×
                      </button>
                      <div class="texture-upload__label">Upload</div>
                      <input class="hidden-input" type="file" accept="image/*" data-orm-roughness-input />
                    </div>
                    <div class="material-slider material-slider--stacked is-hidden" data-orm-roughness-scalar>
                      <label class="material-slider__label" for="orm-roughness-slider">Roughness</label>
                      <input
                        id="orm-roughness-slider"
                        type="range"
                        min="0"
                        max="1"
                        step="0.01"
                        value="1"
                        class="material-slider__input"
                        data-orm-roughness-slider
                      />
                      <input
                        type="number"
                        min="0"
                        max="1"
                        step="0.01"
                        value="1.00"
                        class="material-slider__value"
                        data-orm-roughness-number
                        aria-label="Roughness value"
                      />
                    </div>
                  </div>
                </div>
                <div class="material-orm material-orm--scalar is-hidden" data-orm-scalar>
                  <div class="material-orm__channel" data-orm-scalar-channel="ao">
                    <p class="material-orm__label">Occlusion</p>
                    <div class="texture-upload texture-upload--readonly">
                      <img
                        class="texture-upload__image"
                        data-orm-scalar-ao-image
                        alt="Предпросмотр интенсивности запекания"
                        width="100"
                        height="100"
                      />
                      <div class="texture-upload__label">Value</div>
                    </div>
                    <div class="material-slider material-slider--stacked" data-orm-scalar-ao>
                      <label class="material-slider__label" for="orm-scalar-ao-slider">Intensity</label>
                      <input
                        id="orm-scalar-ao-slider"
                        type="range"
                        min="0"
                        max="1"
                        step="0.01"
                        value="1"
                        class="material-slider__input"
                        data-orm-scalar-ao-slider
                      />
                      <input
                        type="number"
                        min="0"
                        max="1"
                        step="0.01"
                        value="1.00"
                        class="material-slider__value"
                        data-orm-scalar-ao-number
                        aria-label="Occlusion intensity"
                      />
                    </div>
                  </div>
                  <div class="material-orm__channel" data-orm-scalar-channel="metalness">
                    <p class="material-orm__label">Metallic</p>
                    <div class="texture-upload texture-upload--readonly">
                      <img
                        class="texture-upload__image"
                        data-orm-scalar-metalness-image
                        alt="Предпросмотр металлического значения"
                        width="100"
                        height="100"
                      />
                      <div class="texture-upload__label">Value</div>
                    </div>
                    <div class="material-slider material-slider--stacked" data-orm-scalar-metalness>
                      <label class="material-slider__label" for="orm-scalar-metalness-slider">Metalness</label>
                      <input
                        id="orm-scalar-metalness-slider"
                        type="range"
                        min="0"
                        max="1"
                        step="0.01"
                        value="0"
                        class="material-slider__input"
                        data-orm-scalar-metalness-slider
                      />
                      <input
                        type="number"
                        min="0"
                        max="1"
                        step="0.01"
                        value="0.00"
                        class="material-slider__value"
                        data-orm-scalar-metalness-number
                        aria-label="Metalness value"
                      />
                    </div>
                  </div>
                  <div class="material-orm__channel" data-orm-scalar-channel="roughness">
                    <p class="material-orm__label">Roughness</p>
                    <div class="texture-upload texture-upload--readonly">
                      <img
                        class="texture-upload__image"
                        data-orm-scalar-roughness-image
                        alt="Предпросмотр значения шероховатости"
                        width="100"
                        height="100"
                      />
                      <div class="texture-upload__label">Value</div>
                    </div>
                    <div class="material-slider material-slider--stacked" data-orm-scalar-roughness>
                      <label class="material-slider__label" for="orm-scalar-roughness-slider">Roughness</label>
                      <input
                        id="orm-scalar-roughness-slider"
                        type="range"
                        min="0"
                        max="1"
                        step="0.01"
                        value="1"
                        class="material-slider__input"
                        data-orm-scalar-roughness-slider
                      />
                      <input
                        type="number"
                        min="0"
                        max="1"
                        step="0.01"
                        value="1.00"
                        class="material-slider__value"
                        data-orm-scalar-roughness-number
                        aria-label="Roughness value"
                      />
                    </div>
                  </div>
                </div>
              </div>
            </details>
            <details class="material-section" data-baked-section>
              <summary class="material-section__summary">Baked Textures</summary>
              <div class="material-section__content">
                <div class="material-baked">
                  <div class="material-baked__item">
                    <p class="material-baked__label">Color</p>
                    <div class="texture-upload texture-upload--readonly">
                      <img
                        class="texture-upload__image"
                        data-baked-color-image
                        alt="Baked color preview"
                        width="100"
                        height="100"
                      />
                    </div>
                  </div>
                  <div class="material-baked__item">
                    <p class="material-baked__label">Normal</p>
                    <div class="texture-upload texture-upload--readonly">
                      <img
                        class="texture-upload__image"
                        data-baked-normal-image
                        alt="Baked normal preview"
                        width="100"
                        height="100"
                      />
                    </div>
                  </div>
                  <div class="material-baked__item">
                    <p class="material-baked__label">ORM</p>
                    <div class="texture-upload texture-upload--readonly">
                      <img
                        class="texture-upload__image"
                        data-baked-orm-image
                        alt="Baked ORM preview"
                        width="100"
                        height="100"
                      />
                    </div>
                  </div>
                </div>
              </div>
            </details>
          </div>
        </div>
      </aside>
    </div>
    <script type="module" src="./src/main.js"></script>
  </body>
</html>
