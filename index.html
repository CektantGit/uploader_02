<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Three.js Mesh Importer</title>
    <link rel="stylesheet" href="./style.css" />
    <script type="importmap">
      {
        "imports": {
          "three": "https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js",
          "OrbitControls": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/controls/OrbitControls.js",
          "TransformControls": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/controls/TransformControls.js",
          "RGBELoader": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/loaders/RGBELoader.js",
          "GLTFLoader": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/loaders/GLTFLoader.js",
          "DRACOLoader": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/loaders/DRACOLoader.js",
          "FBXLoader": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/loaders/FBXLoader.js",
          "OBJLoader": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/loaders/OBJLoader.js"
        }
      }
    </script>
  </head>
  <body>
    <div id="app">
      <canvas id="scene"></canvas>
      <aside class="panel panel--left" data-panel>
        <div class="panel__import">
          <button class="panel__import-button" type="button" data-import-button>Import Model</button>
          <input
            class="hidden-input"
            type="file"
            accept=".gltf,.glb,.fbx,.obj"
            data-file-input
          />
        </div>
        <ul class="panel__list" data-mesh-list></ul>
      </aside>
      <div class="toolbar" data-toolbar>
        <button type="button" class="toolbar__button active" data-mode="none">None</button>
        <button type="button" class="toolbar__button" data-mode="translate">Translation</button>
        <button type="button" class="toolbar__button" data-mode="rotate">Rotation</button>
        <button type="button" class="toolbar__button" data-mode="scale">Scale</button>
      </div>
      <div class="inspector hidden" data-inspector>
        <p class="inspector__title">Transform</p>
        <div class="inspector__row">
          <input type="number" step="0.01" class="inspector__input" data-axis="x" placeholder="X" />
          <input type="number" step="0.01" class="inspector__input" data-axis="y" placeholder="Y" />
          <input type="number" step="0.01" class="inspector__input" data-axis="z" placeholder="Z" />
        </div>
      </div>
      <aside class="panel panel--right" data-material-panel>
        <div class="material-panel">
          <p class="material-panel__title">Материал</p>
          <p class="material-panel__message" data-material-message>Выберите один меш для настройки материала.</p>
          <div class="material-panel__body is-hidden" data-material-body>
            <details class="material-section" open>
              <summary class="material-section__summary">Цвет</summary>
              <div class="material-section__content">
                <div class="material-mode" role="radiogroup">
                  <label class="material-mode__option">
                    <input type="radio" name="color-mode" value="color" data-color-mode />
                    <span>Color</span>
                  </label>
                  <label class="material-mode__option">
                    <input type="radio" name="color-mode" value="texture" data-color-mode />
                    <span>Texture</span>
                  </label>
                </div>
                <div class="material-color-picker" data-color-picker>
                  <label class="material-field">
                    <input
                      type="color"
                      class="material-field__input"
                      data-color-input
                      aria-label="Base color"
                    />
                    <span class="material-field__hover-label" aria-hidden="true">Pick</span>
                  </label>
                </div>
                <div class="material-texture-picker is-hidden" data-color-texture>
                  <div class="texture-upload" data-color-texture-target>
                    <img
                      class="texture-upload__image"
                      data-color-texture-image
                      alt="Предпросмотр текстуры цвета"
                      width="100"
                      height="100"
                    />
                    <button
                      type="button"
                      class="texture-upload__remove"
                      data-color-texture-remove
                      aria-label="Удалить текстуру"
                    >
                      ×
                    </button>
                    <div class="texture-upload__label">Upload</div>
                    <input class="hidden-input" type="file" accept="image/*" data-color-texture-input />
                  </div>
                </div>
              </div>
            </details>
            <details class="material-section" open>
              <summary class="material-section__summary">Normal Map</summary>
              <div class="material-section__content">
                <div class="texture-upload" data-normal-texture-target>
                  <img
                    class="texture-upload__image"
                    data-normal-texture-image
                    alt="Предпросмотр нормал-карты"
                    width="100"
                    height="100"
                  />
                  <button
                    type="button"
                    class="texture-upload__remove"
                    data-normal-texture-remove
                    aria-label="Удалить нормал-карту"
                  >
                    ×
                  </button>
                  <div class="texture-upload__label">Upload</div>
                  <input class="hidden-input" type="file" accept="image/*" data-normal-texture-input />
                </div>
                <label class="material-slider">
                  <span class="material-slider__label">Сила</span>
                  <input
                    type="range"
                    min="0"
                    max="3"
                    step="0.05"
                    value="1"
                    class="material-slider__input"
                    data-normal-strength
                  />
                  <span class="material-slider__value" data-normal-strength-value>1.00</span>
                </label>
              </div>
            </details>
          </div>
        </div>
      </aside>
    </div>
    <script type="module" src="./src/main.js"></script>
  </body>
</html>
